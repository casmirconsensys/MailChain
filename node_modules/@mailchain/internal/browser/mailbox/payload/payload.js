function convertPayload(payload) {
    switch (payload.Headers.ContentType) {
        case 'message/x.mailchain':
            return payload;
        case 'message/x.mailchain-mailer':
            const castPayload = payload;
            const headers = Object.assign(Object.assign({}, payload.Headers), { MailerContent: castPayload.MailerContent });
            return {
                Headers: headers,
                Content: castPayload.Content,
            };
        default:
            throw new Error(`Unsupported content type: ${payload.Headers.ContentType}`);
    }
}

export { convertPayload };
